{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Typography,Dialog,DialogActions,DialogContent,DialogTitle,Button,TextField,Select,MenuItem,FormControl,InputLabel,InputAdornment}from\"@mui/material\";import SearchIcon from\"@mui/icons-material/Search\";import AddIcon from\"@mui/icons-material/Add\";import DeleteIcon from\"@mui/icons-material/Delete\";import OrderForm from\"./components/OrderForm\";import OrderList from\"./components/OrderList\";import NavBar from\"./components/NavBar\";import{fetchOrders,deleteOrders}from\"./services/api\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[orders,setOrders]=useState([]);const[filter,setFilter]=useState(\"\");const[search,setSearch]=useState(\"\");const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[open,setOpen]=useState(false);const[selectedOrders,setSelectedOrders]=useState(new Set());const loadOrders=async()=>{setLoading(true);setError(null);try{const data=await fetchOrders();setOrders(data);}catch(error){console.error(\"Error loading orders:\",error);setError(\"Failed to load orders. Please try again.\");}finally{setLoading(false);}};useEffect(()=>{loadOrders();},[]);const filteredOrders=orders.filter(order=>(filter===\"\"||order.orderType===filter)&&(search===\"\"||order.orderId.includes(search)));const handleClickOpen=()=>{setOpen(true);};const handleClose=()=>{setOpen(false);};const handleDeleteSelected=async()=>{try{await deleteOrders(Array.from(selectedOrders));setSelectedOrders(new Set());loadOrders();}catch(error){console.error(\"Error deleting orders:\",error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"header-spacer\"}),/*#__PURE__*/_jsx(\"div\",{className:\"order-list-controls-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"order-list-controls\",children:[/*#__PURE__*/_jsx(TextField,{label:\"Customer Search\",variant:\"outlined\",size:\"small\",value:search,onChange:e=>setSearch(e.target.value),InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(SearchIcon,{})})}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",style:{backgroundColor:\"#007bff\",color:\"#fff\"},startIcon:/*#__PURE__*/_jsx(AddIcon,{}),onClick:handleClickOpen,children:\"Create Order\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",style:{backgroundColor:\"#007bff\",color:\"#fff\"},startIcon:/*#__PURE__*/_jsx(DeleteIcon,{}),onClick:handleDeleteSelected,disabled:selectedOrders.size===0,children:\"Delete Selected\"}),/*#__PURE__*/_jsxs(FormControl,{variant:\"outlined\",children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Order Type\"}),/*#__PURE__*/_jsxs(Select,{label:\"Order Type\",value:filter,onChange:e=>setFilter(e.target.value),children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:/*#__PURE__*/_jsx(\"em\",{children:\"Order Type\"})}),/*#__PURE__*/_jsx(MenuItem,{value:\"Standard\",children:\"Standard\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"SaleOrder\",children:\"Sale Order\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"PurchaseOrder\",children:\"Purchase Order\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"TransferOrder\",children:\"Transfer Order\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"ReturnOrder\",children:\"Return Order\"})]})]})]})}),/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,\"aria-labelledby\":\"form-dialog-title\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"form-dialog-title\",children:\"Create Order\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(OrderForm,{onCreate:loadOrders,onClose:handleClose})}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{onClick:handleClose,color:\"primary\",children:\"Cancel\"})})]}),loading&&/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Loading...\"}),error&&/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"error\",children:error}),!loading&&!error&&/*#__PURE__*/_jsx(OrderList,{orders:filteredOrders,onDelete:loadOrders,onEdit:loadOrders,selectedOrders:selectedOrders,setSelectedOrders:setSelectedOrders})]});};export default App;","map":{"version":3,"names":["React","useEffect","useState","Typography","Dialog","DialogActions","DialogContent","DialogTitle","Button","TextField","Select","MenuItem","FormControl","InputLabel","InputAdornment","SearchIcon","AddIcon","DeleteIcon","OrderForm","OrderList","NavBar","fetchOrders","deleteOrders","jsx","_jsx","jsxs","_jsxs","App","orders","setOrders","filter","setFilter","search","setSearch","loading","setLoading","error","setError","open","setOpen","selectedOrders","setSelectedOrders","Set","loadOrders","data","console","filteredOrders","order","orderType","orderId","includes","handleClickOpen","handleClose","handleDeleteSelected","Array","from","className","children","label","variant","size","value","onChange","e","target","InputProps","startAdornment","position","style","backgroundColor","color","startIcon","onClick","disabled","onClose","id","onCreate","onDelete","onEdit"],"sources":["C:/Users/gvenk/Downloads/red-tech-frontend/src/App.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Typography,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Button,\r\n  TextField,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel,\r\n  InputAdornment,\r\n  SelectChangeEvent,\r\n} from \"@mui/material\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport OrderForm from \"./components/OrderForm\";\r\nimport OrderList from \"./components/OrderList\";\r\nimport NavBar from \"./components/NavBar\";\r\nimport { fetchOrders, deleteOrders } from \"./services/api\";\r\nimport { Order } from \"./types/order\";\r\nimport \"./App.css\";\r\n\r\nconst App: React.FC = () => {\r\n  const [orders, setOrders] = useState<Order[]>([]);\r\n  const [filter, setFilter] = useState<string>(\"\");\r\n  const [search, setSearch] = useState<string>(\"\");\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [open, setOpen] = useState(false);\r\n  const [selectedOrders, setSelectedOrders] = useState<Set<string>>(new Set());\r\n\r\n  const loadOrders = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const data = await fetchOrders();\r\n      setOrders(data);\r\n    } catch (error) {\r\n      console.error(\"Error loading orders:\", error);\r\n      setError(\"Failed to load orders. Please try again.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadOrders();\r\n  }, []);\r\n\r\n  const filteredOrders = orders.filter(\r\n    (order) =>\r\n      (filter === \"\" || order.orderType === filter) &&\r\n      (search === \"\" || order.orderId.includes(search))\r\n  );\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleDeleteSelected = async () => {\r\n    try {\r\n      await deleteOrders(Array.from(selectedOrders));\r\n      setSelectedOrders(new Set());\r\n      loadOrders();\r\n    } catch (error) {\r\n      console.error(\"Error deleting orders:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <NavBar />\r\n      <div className=\"header-spacer\"></div>\r\n      <div className=\"order-list-controls-wrapper\">\r\n        <div className=\"order-list-controls\">\r\n          <TextField\r\n            label=\"Customer Search\"\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            value={search}\r\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\r\n              setSearch(e.target.value)\r\n            }\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n          <Button\r\n            variant=\"contained\"\r\n            style={{ backgroundColor: \"#007bff\", color: \"#fff\" }}\r\n            startIcon={<AddIcon />}\r\n            onClick={handleClickOpen}\r\n          >\r\n            Create Order\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            style={{ backgroundColor: \"#007bff\", color: \"#fff\" }}\r\n            startIcon={<DeleteIcon />}\r\n            onClick={handleDeleteSelected}\r\n            disabled={selectedOrders.size === 0}\r\n          >\r\n            Delete Selected\r\n          </Button>\r\n          <FormControl variant=\"outlined\">\r\n            <InputLabel>Order Type</InputLabel>\r\n            <Select\r\n              label=\"Order Type\"\r\n              value={filter}\r\n              onChange={(e: SelectChangeEvent<string>) =>\r\n                setFilter(e.target.value as string)\r\n              }\r\n            >\r\n              <MenuItem value=\"\">\r\n                <em>Order Type</em>\r\n              </MenuItem>\r\n              <MenuItem value=\"Standard\">Standard</MenuItem>\r\n              <MenuItem value=\"SaleOrder\">Sale Order</MenuItem>\r\n              <MenuItem value=\"PurchaseOrder\">Purchase Order</MenuItem>\r\n              <MenuItem value=\"TransferOrder\">Transfer Order</MenuItem>\r\n              <MenuItem value=\"ReturnOrder\">Return Order</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n        </div>\r\n      </div>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">Create Order</DialogTitle>\r\n        <DialogContent>\r\n          <OrderForm onCreate={loadOrders} onClose={handleClose} />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      {loading && <Typography variant=\"h6\">Loading...</Typography>}\r\n      {error && (\r\n        <Typography variant=\"h6\" color=\"error\">\r\n          {error}\r\n        </Typography>\r\n      )}\r\n      {!loading && !error && (\r\n        <OrderList\r\n          orders={filteredOrders}\r\n          onDelete={loadOrders}\r\n          onEdit={loadOrders}\r\n          selectedOrders={selectedOrders}\r\n          setSelectedOrders={setSelectedOrders}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}