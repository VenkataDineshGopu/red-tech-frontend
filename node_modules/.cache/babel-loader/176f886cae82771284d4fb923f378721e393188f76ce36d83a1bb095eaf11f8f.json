{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Typography,Dialog,DialogActions,DialogContent,DialogTitle,Button,TextField,Select,MenuItem,FormControl,InputLabel,InputAdornment}from\"@mui/material\";import SearchIcon from\"@mui/icons-material/Search\";import AddIcon from\"@mui/icons-material/Add\";import DeleteIcon from\"@mui/icons-material/Delete\";import OrderForm from\"./components/OrderForm\";import OrderList from\"./components/OrderList\";import NavBar from\"./components/NavBar\";import{fetchOrders,deleteOrders}from\"./services/api\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[orders,setOrders]=useState([]);const[filter,setFilter]=useState(\"\");const[search,setSearch]=useState(\"\");const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[open,setOpen]=useState(false);const[selectedOrders,setSelectedOrders]=useState(new Set());const loadOrders=async()=>{setLoading(true);setError(null);try{const data=await fetchOrders();setOrders(data);}catch(error){console.error(\"Error loading orders:\",error);setError(\"Failed to load orders. Please try again.\");}finally{setLoading(false);}};useEffect(()=>{loadOrders();},[]);const filteredOrders=orders.filter(order=>(filter===\"\"||order.orderType===filter)&&(search===\"\"||order.orderId.includes(search)));const handleClickOpen=()=>{setOpen(true);};const handleClose=()=>{setOpen(false);};const handleDeleteSelected=async()=>{try{await deleteOrders(Array.from(selectedOrders));setSelectedOrders(new Set());loadOrders();}catch(error){console.error(\"Error deleting orders:\",error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"header-spacer\"}),/*#__PURE__*/_jsx(\"div\",{className:\"order-list-controls-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"order-list-controls\",children:[/*#__PURE__*/_jsx(TextField,{label:\"Customer Search\",variant:\"outlined\",size:\"small\",value:search,onChange:e=>setSearch(e.target.value),InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(SearchIcon,{})})}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",style:{backgroundColor:\"#007bff\",color:\"#fff\"},startIcon:/*#__PURE__*/_jsx(AddIcon,{}),onClick:handleClickOpen,children:\"Create Order\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",style:{backgroundColor:\"#007bff\",color:\"#fff\"},startIcon:/*#__PURE__*/_jsx(DeleteIcon,{}),onClick:handleDeleteSelected,disabled:selectedOrders.size===0,children:\"Delete Selected\"}),/*#__PURE__*/_jsxs(FormControl,{variant:\"outlined\",children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Order Type\"}),/*#__PURE__*/_jsxs(Select,{label:\"Order Type\",value:filter,onChange:e=>setFilter(e.target.value),children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:/*#__PURE__*/_jsx(\"em\",{children:\"Order Type\"})}),/*#__PURE__*/_jsx(MenuItem,{value:\"Standard\",children:\"Standard\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"SaleOrder\",children:\"Sale Order\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"PurchaseOrder\",children:\"Purchase Order\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"TransferOrder\",children:\"Transfer Order\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"ReturnOrder\",children:\"Return Order\"})]})]})]})}),/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,\"aria-labelledby\":\"form-dialog-title\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"form-dialog-title\",children:\"Create Order\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(OrderForm,{onCreate:loadOrders,onClose:handleClose})}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{onClick:handleClose,color:\"primary\",children:\"Cancel\"})})]}),loading&&/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Loading...\"}),error&&/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"error\",children:error}),!loading&&!error&&/*#__PURE__*/_jsx(OrderList,{orders:filteredOrders,onDelete:loadOrders,onEdit:loadOrders,selectedOrders:selectedOrders,setSelectedOrders:setSelectedOrders})]});};export default App;","map":{"version":3,"names":["React","useEffect","useState","Typography","Dialog","DialogActions","DialogContent","DialogTitle","Button","TextField","Select","MenuItem","FormControl","InputLabel","InputAdornment","SearchIcon","AddIcon","DeleteIcon","OrderForm","OrderList","NavBar","fetchOrders","deleteOrders","jsx","_jsx","jsxs","_jsxs","App","orders","setOrders","filter","setFilter","search","setSearch","loading","setLoading","error","setError","open","setOpen","selectedOrders","setSelectedOrders","Set","loadOrders","data","console","filteredOrders","order","orderType","orderId","includes","handleClickOpen","handleClose","handleDeleteSelected","Array","from","className","children","label","variant","size","value","onChange","e","target","InputProps","startAdornment","position","style","backgroundColor","color","startIcon","onClick","disabled","onClose","id","onCreate","onDelete","onEdit"],"sources":["C:/Users/gvenk/Downloads/red-tech-frontend/src/App.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  Typography,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Button,\n  TextField,\n  Select,\n  MenuItem,\n  FormControl,\n  InputLabel,\n  InputAdornment,\n  SelectChangeEvent,\n} from \"@mui/material\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport AddIcon from \"@mui/icons-material/Add\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport OrderForm from \"./components/OrderForm\";\nimport OrderList from \"./components/OrderList\";\nimport NavBar from \"./components/NavBar\";\nimport { fetchOrders, deleteOrders } from \"./services/api\";\nimport { Order } from \"./types/order\";\nimport \"./App.css\";\n\nconst App: React.FC = () => {\n  const [orders, setOrders] = useState<Order[]>([]);\n  const [filter, setFilter] = useState<string>(\"\");\n  const [search, setSearch] = useState<string>(\"\");\n  const [loading, setLoading] = useState<boolean>(true);\n  const [error, setError] = useState<string | null>(null);\n  const [open, setOpen] = useState(false);\n  const [selectedOrders, setSelectedOrders] = useState<Set<string>>(new Set());\n\n  const loadOrders = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const data = await fetchOrders();\n      setOrders(data);\n    } catch (error) {\n      console.error(\"Error loading orders:\", error);\n      setError(\"Failed to load orders. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadOrders();\n  }, []);\n\n  const filteredOrders = orders.filter(\n    (order) =>\n      (filter === \"\" || order.orderType === filter) &&\n      (search === \"\" || order.orderId.includes(search))\n  );\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleDeleteSelected = async () => {\n    try {\n      await deleteOrders(Array.from(selectedOrders));\n      setSelectedOrders(new Set());\n      loadOrders();\n    } catch (error) {\n      console.error(\"Error deleting orders:\", error);\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <NavBar />\n      <div className=\"header-spacer\"></div>\n      <div className=\"order-list-controls-wrapper\">\n        <div className=\"order-list-controls\">\n          <TextField\n            label=\"Customer Search\"\n            variant=\"outlined\"\n            size=\"small\"\n            value={search}\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n              setSearch(e.target.value)\n            }\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            style={{ backgroundColor: \"#007bff\", color: \"#fff\" }}\n            startIcon={<AddIcon />}\n            onClick={handleClickOpen}\n          >\n            Create Order\n          </Button>\n          <Button\n            variant=\"contained\"\n            style={{ backgroundColor: \"#007bff\", color: \"#fff\" }}\n            startIcon={<DeleteIcon />}\n            onClick={handleDeleteSelected}\n            disabled={selectedOrders.size === 0}\n          >\n            Delete Selected\n          </Button>\n          <FormControl variant=\"outlined\">\n            <InputLabel>Order Type</InputLabel>\n            <Select\n              label=\"Order Type\"\n              value={filter}\n              onChange={(e: SelectChangeEvent<string>) =>\n                setFilter(e.target.value as string)\n              }\n            >\n              <MenuItem value=\"\">\n                <em>Order Type</em>\n              </MenuItem>\n              <MenuItem value=\"Standard\">Standard</MenuItem>\n              <MenuItem value=\"SaleOrder\">Sale Order</MenuItem>\n              <MenuItem value=\"PurchaseOrder\">Purchase Order</MenuItem>\n              <MenuItem value=\"TransferOrder\">Transfer Order</MenuItem>\n              <MenuItem value=\"ReturnOrder\">Return Order</MenuItem>\n            </Select>\n          </FormControl>\n        </div>\n      </div>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">Create Order</DialogTitle>\n        <DialogContent>\n          <OrderForm onCreate={loadOrders} onClose={handleClose} />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n        </DialogActions>\n      </Dialog>\n      {loading && <Typography variant=\"h6\">Loading...</Typography>}\n      {error && (\n        <Typography variant=\"h6\" color=\"error\">\n          {error}\n        </Typography>\n      )}\n      {!loading && !error && (\n        <OrderList\n          orders={filteredOrders}\n          onDelete={loadOrders}\n          onEdit={loadOrders}\n          selectedOrders={selectedOrders}\n          setSelectedOrders={setSelectedOrders}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}